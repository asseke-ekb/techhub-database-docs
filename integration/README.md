# TechHub - Документация для интеграций

## Назначение

Документация для разработчиков, которым нужно:
- Выгружать данные из TechHub
- Загружать данные в TechHub
- Интегрироваться с внешними системами

---

## Содержание

| Документ | Описание |
|----------|----------|
| [01_DATA_CONTRACTS.md](01_DATA_CONTRACTS.md) | Контракты данных для интеграций |
| [02_ENTITIES_EXPORT.md](02_ENTITIES_EXPORT.md) | Форматы выгрузки сущностей |
| [03_REFERENCE_DATA.md](03_REFERENCE_DATA.md) | Справочные данные (коды, статусы) |

---

## Ключевые сущности для интеграций

| Сущность | Таблица | Записей | Интеграция |
|----------|---------|---------|------------|
| Пользователи | `account_user` | 54,063 | Выгрузка/Загрузка |
| Компании | `account_company` | 6,639 | Выгрузка/Загрузка |
| Заявки на услуги | `service_servicerequest` | 56,322 | Выгрузка |
| События | `core_event` | 1,459 | Выгрузка |
| Вакансии | `core_vacancy` | 1,205 | Выгрузка |

---

## Форматы данных

### Мультиязычные поля

Текстовые поля хранятся в формате JSON с языковыми ключами:

```json
{
  "ru": "Текст на русском",
  "kk": "Қазақша мәтін",
  "en": "English text"
}
```

**Поля с мультиязычностью:**
- `title` — заголовок
- `content` — содержание
- `description` — описание
- `name` — наименование

### Теги (статусы в экосистеме)

Теги компаний хранятся в JSONB:

```json
{
  "status": "active",
  "date_from": "2024-01-15",
  "date_to": null,
  "data": {
    "certificate_number": "123"
  }
}
```

**Возможные значения status:**
- `active` — активный
- `inactive` — неактивный
- `pending` — на рассмотрении
- `rejected` — отклонён

---

## Идентификаторы

| Сущность | PK | Формат | Пример |
|----------|-----|--------|--------|
| Пользователь | `id` | integer | 12345 |
| Компания | `id` | integer | 6789 |
| Компания (внешний) | `tin` | varchar(12) | 123456789012 |
| Заявка | `id` | integer | 56322 |
| Файл | `id` | uuid | a1b2c3d4-... |

---

## Связи между сущностями

```
ПОЛЬЗОВАТЕЛЬ (account_user)
    │
    ├── company_id → КОМПАНИЯ (основная)
    │
    └── account_usercompany → КОМПАНИИ (все членства)
            │
            ├── company_id → КОМПАНИЯ
            └── role: owner/member/advisor

КОМПАНИЯ (account_company)
    │
    ├── author_id → ПОЛЬЗОВАТЕЛЬ (создатель)
    │
    └── tin → БИН/ИИН (внешний идентификатор)

ЗАЯВКА (service_servicerequest)
    │
    ├── author_id → ПОЛЬЗОВАТЕЛЬ
    ├── company_id → КОМПАНИЯ
    └── service_id → УСЛУГА
```

---

## Контакты

Вопросы по интеграциям: команда разработки TechHub

---

**Версия:** 1.0
**Дата:** 2025-12-07
